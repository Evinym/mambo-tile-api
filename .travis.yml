sudo: required
language: node_js
node_js:
- node
cache:
  directories:
  - node_modules
services:
- docker
install:
- npm install
script:
- npm test
- docker build -t handmambo/tile-api .
deploy:
  provider: script
  script: bash bin/docker_push.sh
  on:
    branch: master
env:
  global:
  - secure: wPGWQ3CL8IgcRloOu3OiFbN44uWZb+tI/TeecWPPS5BgfZwjNeC7HQ9yqIBX1pygaEujlacQJZtO3lucFf4xOVs+vh9Ezcol3OIxuVbHIcFBEm4FtzbXcCdWATbP7HZdcIZ8ROQYSBJw3zO1H4mm/2IPqb2A7Zfu3HxtgPW8gZZvqlj5ZERFbUh5NtrEoAhenSLY3Egnxe3MVih1E8tZJHaHbzPPVydkBQ/zsS69FoZtyXp6+N+9zCyIoLs+umdcde63NePn1e46lKh5wLXTup78eo5brmJud2upxyCGgB2RYRTZf1umzFkPv+KSA+WuwIpOdTpLd6bTyEEu48LNqHhQ1A1nLow2JlqWGjoe2PKzsX15KQ130JWIVxrhzY+IwOU0N9jVNlA+j8ew8YgONVZRGENCoDOPYTYEDA7Egi4Ry8ospd5k7pmoDXuj5etLyRnLGlq+2GU0BV2WBlHx863JjX3KylOhD2GQFV2gyiESfS6TNzakf27HYO0tNU5QqdAKagS/RNb6xh9nxsIugzUMjlU1ibgaUqS51its0UiZlV2Qnmx0gFh3AtEfGbxP+lktEHiUpdxTDfbaV9qWSe7b9tMz9yVJqzQs87B345pneuvQvosI3R3EvveMM+gjNDxa9HTsjIqm3nVc0No6xYztDLza2zXU432W09/EAXA=
  - secure: C8CeC4LbyzFrxdDWh8QMRrRiiECN8yhyK4NTvLe9S/AuuqURxYiq93fPVlIhPe6KdW7C2SgSNXsEzhpgPVCNH8p9P+tDxZMqrK7DWeyBtjIHDL3z2nLe+0rtkY4YTJEP97DxDFdBwcIcBVfyH+kN1ro/kC418vz9cUN0KsNyMigA7769Ei/+4MFOdXc8I8vsCaOgJnaHxCy1lOGKpgrw8QpHvjdExzjWOXK4+IlXGkWw8THBbm5oWh/cnEe4WqwyTmGS8+q+hBJ43SCMNpYR67po0dRnGbwlk4VGTdSUgIPk/gPYGAqD0rnoI+aadfwhXCS7qisSNbF2mQw6E4B12AkIFDE/l5umFSeDu7y6Hh2S0qr2oGGTrCMFk/nsPj5SWWUq0sBW5Ch6vM/Ja6YifsgU+Yr/oXzSTtfdnsLvYrTSBQUTUfvJ9f1Q/VLd4vg9NrV7BLBmEe4xW78P15JDfmnBQAsj4ViVE2A2hFWll8L00P0WX5GqtA629q2Iyd2cEfU7xD9iCPaWn3B2XPrhzR6drNWf0k1QkthK8jwXF2J3Qur46hsC0R9SK3FHR49DZXW0igtk0uE/yot2EUoVTEs2SgwJQLwdDzz8KnGP86rneaqhxVS6HRi49EbScJENPI++Ms39pHAEm3rFVpvrDDo2s69AjorXzUcI5VhylwE=
  - secure: cseYDDKBknfUesfXL/UVyOzpjwUZ15Au/jIfjj/3C/ImO01hqGFDZsvMyv3AqTRIcws0pi/idjy5jOuPbiFgZtb5FfOsstc7lnzxSZWucdhLzthOAAQwdv8n1T4GYkzKW+na4Be37jj5TwAcwthzGF7TC2of0F/3OfqYV21e7Qu2yUBquNpEH9Jz+Q67ADYZarZVYTakD088qnLp0Nlh7vp3UtXepdfLHWaEm1GfWH9o+ThCKhh+jf18BRrjRZaYmqjRMWsgp2IAPmZr+Z56SZDItmKKgelUwpnpgdeaFAFYxLSW9pXfWeDw1O/2hkElEw5ToOx2x/sQ4fk+NlWARowJCZvydfjidx6YYMeSp/7gLlBqv4+SHaymPhxXW0qD+eNugwWXn8CXyD5gseo76TTGTnQvDrB643S/tuxYbqSqjLlms94qEQmhqg9f6LFPGZKHpU35YlEH5cKuNlP9U+jutGw6ZDo29AuPKHxKBxdY+6XUtPSmfACsOwRhE4pXBZMTMX1XNnZY3Hw7RPfPo+2+bAhNJb6sSwEh/OgW0UqKy08786B6CBCVMC3WqdRK3QXvZe1xTQ0GwgP1JZS5y+KtUxE2yi7P31bhwzyvhIAFDJokugJhYljJkEEMUeiGRNOKamBQVsZXaLf78e9QRE+LXI/wfXYS0De7Ut357d0=
  - secure: ctnhe2OQ/ywcIXruEtEGPKv7TaY/d5Wi0uEgeH1zMLDUfBKy2Vk2LN9XxR3LXws7k+RD9cZgncovPf1Fg/dJ1ozxddhkzShTN+GptFedne2S7Z4exRRIehM6LeMxzg0YCHCAWCTJjyk+W4QhZmKSP9CXlKxeGOBr7gCEfb2Ok565kZFDAA/FfaoRIXX1Gxehie4JReLPLqWFkOPfHPY+CO3DxWA8Z8CpjMw4jVzl/Fbl7pPfTj510yqrhyRlyNSsU1hlAQlnAUrMZ2KGlS97zbuW7d++aGCS38tGOC0KjS0INMSsB69dJtpK0jSsYknUDry7sPCXVbjw5Z3k9+04coDtPOd3BavWmZ9GP81aG+9oxhlaHxQS9qOT4crsJbsAEjovWs8eZlmKAj6+xeB/CabbCqZX6nta8xAkReXpzm0eCwQTwf7cBx/mE8UlH20uxbRRUcQHMRlREle+maP8XwrCiKxtplRGy3pSY4w5ADaivV1lkuwGenhtVSJGrgDHJ5GTgaMCuVYz+jTl4zEIxt0CVvQL4GmJB5/Y8Br0zB65dJz1mf8cn1WUWYFt8ewFuCKGvOMQ9PQLav/tXrZCS3nIq8hlXk3JX1h94RwxEaDyMi5hs69UJB+wBDg/6hVakt0JbP6X8KCob88sAmNUcwbXRuWr3dyjVUkZ6wsx0po=
